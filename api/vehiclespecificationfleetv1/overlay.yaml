overlay: 1.0.0

info:
  title: Overlay for Mercedes-Benz Vehicle Specification API v1
  version: 1.0.0

actions:
  - target: $.paths
    description: "Skip code generation for requests"
    remove: true

  - target: $.components.responses
    description: "Skip code generation for responses"
    remove: true

  - target: $.components.securitySchemes
    description: "Skip code generation for security schemes"
    remove: true

  - target: $.components.parameters
    description: "Skip code generation for parameters"
    remove: true

  - target: $..[?(@.format == "uuid")].format
    remove: true

  - target: $..[?(@.type=="array")]
    description: "Skip pointer to Go slices"
    update:
      x-go-type-skip-optional-pointer: true
      x-omitzero: true

  - target: $..[?(@.deprecated)]
    description: "Remove deprecated properties and schemas"
    remove: true

  - target: $.components.schemas.VehicleData.properties.additionalSpecs
    description: "Remove additionalSpecs property that references deprecated schema"
    remove: true

  - target: $..[?(@.type=="string")]
    description: "Skip optional pointer for strings"
    update:
      x-go-type-skip-optional-pointer: true

  - target: $..[?(@.format=="date-time")]
    description: "Skip optional pointer for timestamps"
    update:
      x-go-type-skip-optional-pointer: true
      x-omitzero: true
