overlay: 1.0.0

info:
  title: Overlay for Mercedes-Benz Service Management API v1
  version: 1.0.0

actions:
  - target: $.paths
    description: "Skip code generation for requests"
    remove: true

  - target: $.components.responses
    description: "Skip code generation for responses"
    remove: true

  - target: $.components.securitySchemes
    description: "Skip code generation for security schemes"
    remove: true

  - target: $..[?(@.format == "uuid")].format
    remove: true

  - target: $..[?(@.type=="array")]
    description: "Skip pointer to Go slices"
    update:
      x-go-type-skip-optional-pointer: true

  - target: $..[?(@.deprecated)]
    description: "Remove deprecated properties"
    remove: true

  - target: $..[?(@.type=="string")]
    description: "Skip optional pointer for strings"
    update:
      x-go-type-skip-optional-pointer: true

  - target: $..[?(@.format=="date-time")]
    description: "Skip optional pointer for timestamps"
    update:
      x-go-type-skip-optional-pointer: true
      x-omitzero: true

  - target: $.components.schemas..[?(@ =~ /_External$/)]
    description: "Remove _External schema variants"
    remove: true

  - target: $.components.schemas..[?(@ =~ /_Internal$/)]
    description: "Remove _Internal schema variants"
    remove: true
